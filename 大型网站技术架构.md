#大型网站架构演化
---
##大型网站软件系统的特点
1. <b>高并发，大流量</b>   
   需要面对高并发用户，大流量访问
2. <b>高可用</b>   
   系统7*24小时不间断服务
3. <b>海量数据</b>  
   主要存储、管理海量数据，需要使用大量服务器
4. **用户分布广泛，网络情况复杂**
5. **安全环境恶劣**
6. **需求快速变化，发布频繁**
7. **渐进式发展**

##大型网站架构演化发展历程
大型网站的技术挑战主要来自于庞大的用户、高并发的访问和海量的数据 

1. **初始阶段的网络架**   
 应用程序、数据库、文件等所有资源都在一台服务器上  
2. **应用服务和数据服务分离**    
  使用三个服务器：应用服务器、文件服务器和数据库服务器  
  三台服务器对硬件资源的要求不同：
  1.  应用服务器要处理大量的业务逻辑，因此需要更快更大的CPU  
  2.  数据库服务器需要快速的磁盘检索和数据缓存，因此需要更快的硬盘和更大的内存  
  3.  文件服务器需要存储大量用户上传的文件，因此需要更大的硬盘  
3. **使用缓存改善网站性能**  
  大部分业务访问集中在一小部分数据上，那么如果把这一小部分数据缓存在内存中，减少数据库的访问压力  
  网站使用的缓存可以分为两种：***1. 缓存在应用服务器上的本地缓存*** ***2.分布式缓存在服务器上的远程缓存***  
  会出现的情况：   
  ①本地的缓存的访问速度更快一点，但是受应用服务内存限制，其缓存数据量有限，而且会出现和应用程序争用内存  
  ②远程分布式缓存可以使用集群的方式，可以在理论上做到不受内存容量限制的缓存服务  
4. **使用应用服务器集群改善网站的并发处理能力** 
   增加一台服务器分担原有服务器的访问和存储压力，使用集群解决高并发、海量数据问题的常用手段  
   通过负载均衡调度服务器，可将用户浏览器的访问请求分发到应用服务器集群中的任何一台服务器上  
5. **数据库读写分离**  
   配置两台数据库主从关系，可以将一台数据库服务器的数据更新同步到另一台服务器上。
6. **使用反向代理和CDN加速网络响应**  
   CDN和反向代理的基本原理都是缓存，CDN部署在网络提供商的机房中，使用户在请求网站服务使，可以从距离自己最近的网络提供商机房获取数据。  
   反向代理则部署在网站的中心机房，当用户请求到达中心机房获取数据，而反向代理服务器部署在网站的中心机房，如果方向代理服务器中缓存着用户请求的资源，就将其直接返回给用户  
   使用CDN和反向代理的目的都是为了尽早返回数据给用户。
   
 